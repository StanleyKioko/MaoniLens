{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\Folders\\\\MaoniLens\\\\maonibot\\\\frontend\\\\src\\\\hooks\\\\useApi.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { API_BASE_URL, API_ENDPOINTS } from '../utils/constants';\n\n// API Context\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ApiContext = /*#__PURE__*/createContext();\n\n// API Provider Component\nexport const ApiProvider = ({\n  children\n}) => {\n  _s();\n  const [globalLoading, setGlobalLoading] = useState(false);\n  const [globalError, setGlobalError] = useState(null);\n  const apiCall = async (endpoint, options = {}) => {\n    try {\n      setGlobalLoading(true);\n      setGlobalError(null);\n      const response = await fetch(`${API_BASE_URL}${endpoint}`, {\n        headers: {\n          'Content-Type': 'application/json',\n          ...options.headers\n        },\n        ...options\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const result = await response.json();\n      return result;\n    } catch (err) {\n      setGlobalError(err.message);\n      throw err;\n    } finally {\n      setGlobalLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(ApiContext.Provider, {\n    value: {\n      apiCall,\n      globalLoading,\n      globalError\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n\n// Custom hook to use API\n_s(ApiProvider, \"vo3OlVAfnPfatV/h8XK+6jxA95Y=\");\n_c = ApiProvider;\nexport const useApi = (endpoint, options = {}) => {\n  _s2();\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const {\n    apiCall\n  } = useContext(ApiContext);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        const result = await apiCall(endpoint, options);\n        setData(result);\n      } catch (err) {\n        setError(err.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    if (endpoint) {\n      fetchData();\n    }\n  }, [endpoint]);\n  const refetch = async () => {\n    try {\n      setLoading(true);\n      const result = await apiCall(endpoint, options);\n      setData(result);\n      setError(null);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return {\n    data,\n    loading,\n    error,\n    refetch\n  };\n};\n\n// Custom hook for data export\n_s2(useApi, \"JZfD2NlcEPsrb7yeOgigF47iSEA=\");\nexport const useExport = () => {\n  _s3();\n  const {\n    apiCall\n  } = useContext(ApiContext);\n  const exportData = async (format = 'csv') => {\n    try {\n      const data = await apiCall(API_ENDPOINTS.EXPORT, {\n        method: 'GET',\n        headers: {\n          'Accept': format === 'csv' ? 'text/csv' : 'application/json'\n        }\n      });\n\n      // Create download\n      const blob = new Blob([data], {\n        type: format === 'csv' ? 'text/csv' : 'application/json'\n      });\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.setAttribute('href', url);\n      a.setAttribute('download', `maonibot_data.${format}`);\n      a.click();\n      window.URL.revokeObjectURL(url);\n    } catch (error) {\n      console.error('Export failed:', error);\n      throw error;\n    }\n  };\n  return {\n    exportData\n  };\n};\n\n// Custom hook for feedback submission\n_s3(useExport, \"2RIU4p72y+LSKKlQmglDhgfp++8=\");\nexport const useFeedback = () => {\n  _s4();\n  const {\n    apiCall\n  } = useContext(ApiContext);\n  const submitFeedback = async feedbackData => {\n    try {\n      const result = await apiCall(API_ENDPOINTS.FEEDBACK, {\n        method: 'POST',\n        body: JSON.stringify(feedbackData)\n      });\n      return result;\n    } catch (error) {\n      console.error('Feedback submission failed:', error);\n      throw error;\n    }\n  };\n  return {\n    submitFeedback\n  };\n};\n_s4(useFeedback, \"2RIU4p72y+LSKKlQmglDhgfp++8=\");\nexport default useApi;\nvar _c;\n$RefreshReg$(_c, \"ApiProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","API_BASE_URL","API_ENDPOINTS","jsxDEV","_jsxDEV","ApiContext","ApiProvider","children","_s","globalLoading","setGlobalLoading","globalError","setGlobalError","apiCall","endpoint","options","response","fetch","headers","ok","Error","status","result","json","err","message","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useApi","_s2","data","setData","loading","setLoading","error","setError","fetchData","refetch","useExport","_s3","exportData","format","EXPORT","method","blob","Blob","type","url","window","URL","createObjectURL","a","document","createElement","setAttribute","click","revokeObjectURL","console","useFeedback","_s4","submitFeedback","feedbackData","FEEDBACK","body","JSON","stringify","$RefreshReg$"],"sources":["C:/Users/HP/Desktop/Folders/MaoniLens/maonibot/frontend/src/hooks/useApi.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\r\nimport { API_BASE_URL, API_ENDPOINTS } from '../utils/constants';\r\n\r\n// API Context\r\nconst ApiContext = createContext();\r\n\r\n// API Provider Component\r\nexport const ApiProvider = ({ children }) => {\r\n  const [globalLoading, setGlobalLoading] = useState(false);\r\n  const [globalError, setGlobalError] = useState(null);\r\n\r\n  const apiCall = async (endpoint, options = {}) => {\r\n    try {\r\n      setGlobalLoading(true);\r\n      setGlobalError(null);\r\n      \r\n      const response = await fetch(`${API_BASE_URL}${endpoint}`, {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          ...options.headers,\r\n        },\r\n        ...options,\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n      \r\n      const result = await response.json();\r\n      return result;\r\n    } catch (err) {\r\n      setGlobalError(err.message);\r\n      throw err;\r\n    } finally {\r\n      setGlobalLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ApiContext.Provider value={{ apiCall, globalLoading, globalError }}>\r\n      {children}\r\n    </ApiContext.Provider>\r\n  );\r\n};\r\n\r\n// Custom hook to use API\r\nexport const useApi = (endpoint, options = {}) => {\r\n  const [data, setData] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const { apiCall } = useContext(ApiContext);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const result = await apiCall(endpoint, options);\r\n        setData(result);\r\n      } catch (err) {\r\n        setError(err.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    if (endpoint) {\r\n      fetchData();\r\n    }\r\n  }, [endpoint]);\r\n\r\n  const refetch = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const result = await apiCall(endpoint, options);\r\n      setData(result);\r\n      setError(null);\r\n    } catch (err) {\r\n      setError(err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return { data, loading, error, refetch };\r\n};\r\n\r\n// Custom hook for data export\r\nexport const useExport = () => {\r\n  const { apiCall } = useContext(ApiContext);\r\n\r\n  const exportData = async (format = 'csv') => {\r\n    try {\r\n      const data = await apiCall(API_ENDPOINTS.EXPORT, {\r\n        method: 'GET',\r\n        headers: {\r\n          'Accept': format === 'csv' ? 'text/csv' : 'application/json'\r\n        }\r\n      });\r\n      \r\n      // Create download\r\n      const blob = new Blob([data], { \r\n        type: format === 'csv' ? 'text/csv' : 'application/json' \r\n      });\r\n      const url = window.URL.createObjectURL(blob);\r\n      const a = document.createElement('a');\r\n      a.setAttribute('href', url);\r\n      a.setAttribute('download', `maonibot_data.${format}`);\r\n      a.click();\r\n      window.URL.revokeObjectURL(url);\r\n    } catch (error) {\r\n      console.error('Export failed:', error);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  return { exportData };\r\n};\r\n\r\n// Custom hook for feedback submission\r\nexport const useFeedback = () => {\r\n  const { apiCall } = useContext(ApiContext);\r\n\r\n  const submitFeedback = async (feedbackData) => {\r\n    try {\r\n      const result = await apiCall(API_ENDPOINTS.FEEDBACK, {\r\n        method: 'POST',\r\n        body: JSON.stringify(feedbackData),\r\n      });\r\n      return result;\r\n    } catch (error) {\r\n      console.error('Feedback submission failed:', error);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  return { submitFeedback };\r\n};\r\n\r\nexport default useApi;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}